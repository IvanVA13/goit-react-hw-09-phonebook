(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[3],{125:function(t,e,n){},126:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(26),a=n.n(r),u=n(14),o=n(59),s=n(18),i=(n(79),n(10)),b=n(130),j=n(21),l=n(15),O={home:"/",contacts:"/contacts",logIn:"/logIn",register:"/register"},f=n(32),d=n.n(f),h=n(1),p=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Item,{className:d.a["nav-item"],children:Object(h.jsx)(j.a.Link,{as:s.b,to:O.logIn,eventKey:O.logIn,className:d.a["nav-link"],children:"LogIn"})}),Object(h.jsx)(j.a.Item,{className:d.a["nav-item"],children:Object(h.jsx)(j.a.Link,{as:s.b,to:O.register,eventKey:O.register,className:d.a["nav-link"],children:"Register"})})]})},v=n(33),x=n.n(v),m=function(){var t=Object(u.c)(l.d);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j.a.Item,{className:x.a["nav-item"],children:Object(h.jsx)(j.a.Link,{as:s.b,to:O.home,eventKey:O.home,className:x.a["nav-link"],children:"Home"})}),t&&Object(h.jsx)(j.a.Item,{className:x.a["nav-item"],children:Object(h.jsx)(j.a.Link,{as:s.b,to:O.contacts,eventKey:O.contacts,className:x.a["nav-link"],children:"Contacts"})})]})},g=n(128),k=n(129),_=n.p+"static/media/ivanv.1335de3b.png",y=n(45),w=n.n(y),C=function(){var t=Object(u.c)(l.e),e=Object(u.b)(),n=Object(c.useCallback)((function(){e(Object(l.a)())}),[e]);return Object(h.jsxs)("div",{className:w.a["auth-container"],children:[Object(h.jsx)(g.a,{roundedCircle:!0,width:"30",height:"30",src:_,alt:t}),Object(h.jsxs)("span",{className:w.a.user,children:[" Welcome, ",t]}),Object(h.jsx)(k.a,{variant:"outline-primary",type:"button",onClick:n,children:"Logout"})]})},N=n(39),A=n.n(N),I=n.p+"static/media/logo.5f75bd04.png",L=function(){var t=Object(u.c)(l.d);return Object(h.jsxs)(b.a,{bg:"light",variant:"primary",className:A.a.navbar,children:[Object(h.jsx)(b.a.Brand,{as:s.b,to:O.home,children:Object(h.jsx)("img",{src:I,alt:"",height:"30"})}),Object(h.jsxs)(j.a,{variant:"pills",className:t?A.a.login:A.a.logout,children:[Object(h.jsx)(m,{}),t?Object(h.jsx)(C,{}):Object(h.jsx)(p,{})]})]})},E=n(23),S=n(36),R=["children","isAuthenticated"],B=function(t){var e=t.children,n=(t.isAuthenticated,Object(S.a)(t,R)),c=Object(u.c)(l.d);return Object(h.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{children:c?e:Object(h.jsx)(i.a,{to:O.logIn})}))},q=["isAuthenticated","children"],z=function(t){t.isAuthenticated;var e=t.children,n=Object(S.a)(t,q),c=Object(u.c)(l.d);return Object(h.jsx)(i.b,Object(E.a)(Object(E.a)({},n),{},{children:c&&n.restricted?Object(h.jsx)(i.a,{to:O.contacts}):e}))},U=n(62),F=n.n(U),K=n(63),M=n.n(K),H=function(){return Object(h.jsx)(F.a,{className:M.a.Spinner,type:"BallTriangle",color:"#00BFFF",height:80,width:80})},J=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,145))})),T=Object(c.lazy)((function(){return Promise.all([n.e(7),n.e(0)]).then(n.bind(null,144))})),V=Object(c.lazy)((function(){return n.e(2).then(n.bind(null,146))})),W=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,147))})),X=function(){var t=Object(u.b)();return Object(c.useEffect)((function(){t(Object(l.c)())}),[t]),Object(h.jsxs)(c.Suspense,{fallback:Object(h.jsx)(H,{}),children:[Object(h.jsx)(L,{}),Object(h.jsxs)(i.d,{children:[Object(h.jsx)(z,{exact:!0,path:O.home,children:Object(h.jsx)(J,{})}),Object(h.jsx)(z,{path:O.logIn,restricted:!0,children:Object(h.jsx)(V,{})}),Object(h.jsx)(z,{path:O.register,restricted:!0,children:Object(h.jsx)(W,{})}),Object(h.jsx)(B,{path:O.contacts,children:Object(h.jsx)(T,{})})]})]})},Z=n(3),D=n(25),P=n(64),G=n.n(P),Q=n(48),Y={key:"auth",storage:G.a,whitelist:["token"]},$=Object(Z.a)({reducer:{auth:Object(D.g)(Y,l.b),contacts:Q.b},devTools:!1,middleware:function(t){return t({serializableCheck:{ignoredActions:[D.a,D.f,D.b,D.c,D.d,D.e]}})}}),tt={store:$,persistor:Object(D.h)($)};n(125);a.a.render(Object(h.jsx)(u.a,{store:tt.store,children:Object(h.jsx)(o.a,{persistor:tt.persistor,children:Object(h.jsx)(s.a,{basename:"/goit-react-hw-09-phonebook",children:Object(h.jsx)(X,{})})})}),document.getElementById("root"))},15:function(t,e,n){"use strict";n.d(e,"b",(function(){return A})),n.d(e,"g",(function(){return z})),n.d(e,"f",(function(){return U})),n.d(e,"a",(function(){return F})),n.d(e,"c",(function(){return K})),n.d(e,"d",(function(){return M})),n.d(e,"e",(function(){return H}));var c,r,a,u,o=n(4),s=n(12),i=n(3),b=Object(i.b)("auth/registerRequest"),j=Object(i.b)("auth/registerSuccess"),l=Object(i.b)("auth/registerError"),O=Object(i.b)("auth/loginRequest"),f=Object(i.b)("auth/loginSuccess"),d=Object(i.b)("auth/loginError"),h=Object(i.b)("auth/logoutRequest"),p=Object(i.b)("auth/logoutSuccess"),v=Object(i.b)("auth/logoutError"),x=Object(i.b)("auth/getCurrentUserRequest"),m=Object(i.b)("auth/getCurrentUserSuccess"),g=Object(i.b)("auth/getCurrentUserError"),k={email:"",password:""},_=Object(i.c)(k,(c={},Object(o.a)(c,j,(function(t,e){return e.payload.user})),Object(o.a)(c,f,(function(t,e){return e.payload.user})),Object(o.a)(c,p,(function(){return k})),Object(o.a)(c,m,(function(t,e){return e.payload})),c)),y=Object(i.c)(!1,(r={},Object(o.a)(r,j,(function(){return!0})),Object(o.a)(r,f,(function(){return!0})),Object(o.a)(r,m,(function(){return!0})),Object(o.a)(r,p,(function(){return!1})),Object(o.a)(r,l,(function(){return!1})),Object(o.a)(r,d,(function(){return!1})),Object(o.a)(r,g,(function(){return!1})),r)),w=Object(i.c)(null,(a={},Object(o.a)(a,j,(function(t,e){return e.payload.token})),Object(o.a)(a,f,(function(t,e){return e.payload.token})),Object(o.a)(a,p,(function(){return null})),a)),C=function(t,e){return e.payload},N=Object(i.c)(null,(u={},Object(o.a)(u,l,C),Object(o.a)(u,d,C),Object(o.a)(u,v,C),Object(o.a)(u,g,C),u)),A=Object(s.b)({user:_,isAuthenticated:y,token:w,error:N}),I=n(16),L=n.n(I),E=n(28),S=n(20),R=n.n(S);R.a.defaults.baseURL="https://connections-api.herokuapp.com";var B=function(t){R.a.defaults.headers.common.Authorization="Bearer ".concat(t)},q=function(){R.a.defaults.headers.common.Authorization=""},z=function(t){return function(){var e=Object(E.a)(L.a.mark((function e(n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(b()),e.prev=1,e.next=4,R.a.post("/users/signup",t);case 4:c=e.sent,B(c.data.token),n(j(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(l(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},U=function(t){return function(){var e=Object(E.a)(L.a.mark((function e(n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(O()),e.prev=1,e.next=4,R.a.post("/users/login",t);case 4:c=e.sent,B(c.data.token),n(f(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(d(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},F=function(){return function(){var t=Object(E.a)(L.a.mark((function t(e){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,R.a.post("/users/logout");case 4:q(),e(p()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(v(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},K=function(){return function(){var t=Object(E.a)(L.a.mark((function t(e,n){var c,r,a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),r=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return B(r),e(x()),t.prev=5,t.next=8,R.a.get("/users/current");case 8:a=t.sent,e(m(a.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(g(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()},M=function(t){return t.auth.isAuthenticated},H=function(t){return t.auth.user.name}},32:function(t,e,n){t.exports={nav:"AuthNav_nav__3X5MF","nav-item":"AuthNav_nav-item__1lXjv","nav-link":"AuthNav_nav-link__MWhs0"}},33:function(t,e,n){t.exports={"nav-item":"Navigation_nav-item__1qc5I","nav-link":"Navigation_nav-link__fm0D_"}},39:function(t,e,n){t.exports={navbar:"AppBar_navbar__1yHI-",nav:"AppBar_nav__2wV0h",login:"AppBar_login__uxVKl",logout:"AppBar_logout__26k_7"}},45:function(t,e,n){t.exports={"auth-container":"UserMenu_auth-container__1Zx9E",user:"UserMenu_user__75zEZ"}},48:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return A})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return L})),n.d(e,"g",(function(){return S})),n.d(e,"f",(function(){return R})),n.d(e,"h",(function(){return B}));var c,r,a=n(4),u=n(66),o=n(12),s=n(3),i=Object(s.b)("contacts/addContactRequest"),b=Object(s.b)("contacts/addContactSuccess"),j=Object(s.b)("contacts/addContactError"),l=Object(s.b)("contacts/delContactRequest"),O=Object(s.b)("contacts/delContactSuccess"),f=Object(s.b)("contacts/delContactError"),d=Object(s.b)("contacts/fetchContactRequest"),h=Object(s.b)("contacts/fetchContactSuccess"),p=Object(s.b)("contacts/fetchContactError"),v=Object(s.b)("contacts/filter-contact"),x=Object(s.c)([],(c={},Object(a.a)(c,h,(function(t,e){return e.payload})),Object(a.a)(c,b,(function(t,e){var n=e.payload;return[].concat(Object(u.a)(t),[n])})),Object(a.a)(c,O,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),m=Object(s.c)(!1,(r={},Object(a.a)(r,i,(function(){return!0})),Object(a.a)(r,b,(function(){return!1})),Object(a.a)(r,j,(function(){return!1})),Object(a.a)(r,l,(function(){return!0})),Object(a.a)(r,O,(function(){return!1})),Object(a.a)(r,f,(function(){return!1})),Object(a.a)(r,d,(function(){return!0})),Object(a.a)(r,h,(function(){return!1})),Object(a.a)(r,p,(function(){return!1})),r)),g=Object(s.c)("",Object(a.a)({},v,(function(t,e){return e.payload}))),k=Object(o.b)({items:x,filter:g,loader:m}),_=n(16),y=n.n(_),w=n(28),C=n(20),N=n.n(C);N.a.defaults.baseURL="https://connections-api.herokuapp.com";var A=function(t,e){return function(){var n=Object(w.a)(y.a.mark((function n(c){var r,a,u;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},c(i()),n.prev=2,n.next=5,N.a.post("/contacts",r);case 5:a=n.sent,u=a.data,c(b(u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(j(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},I=function(t){return function(e){e(l());try{N.a.delete("/contacts/".concat(t)),e(O(t))}catch(n){e(f(n))}}},L=function(){return function(){var t=Object(w.a)(y.a.mark((function t(e){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(d()),t.prev=1,t.next=4,N.a.get("/contacts");case 4:n=t.sent,c=n.data,e(h(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(p(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},E=n(34),S=function(t){return t.contacts.items},R=function(t){return t.contacts.filter},B=Object(E.a)([S,R],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},63:function(t,e,n){t.exports={Spinner:"Loader_Spinner__3L88C"}}},[[126,5,6]]]);
//# sourceMappingURL=main.18c589a7.chunk.js.map